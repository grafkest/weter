# Weter Website

Готовое веб-приложение для провайдера интернета и видеонаблюдения «Weter». Проект включает публичный сайт с ключевыми страницами, формами заявок и панель администратора для редактирования контента без правки кода.

## Стэк
- Python 3.12
- Flask 3 + SQLAlchemy
- SQLite (по умолчанию)
- Flask-Migrate для миграций
- Адаптивная верстка на HTML/CSS (mobile-first)

## Быстрый старт
1. Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Windows: .venv\Scripts\activate
   ```
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Примените миграции и заполните базу демо-данными:
   ```bash
   flask --app app:create_app db upgrade
   flask --app app:create_app create-defaults
   ```
4. Запустите сервер разработки:
   ```bash
   flask --app app:create_app run --debug
   ```

По умолчанию приложение доступно на `http://127.0.0.1:5000/`.

## Панель администратора
- URL: `http://127.0.0.1:5000/admin`
- Логин: `admin`
- Пароль: `change-me`

Значения можно переопределить переменными окружения `ADMIN_USERNAME` и `ADMIN_PASSWORD`. Секретный ключ Flask задаётся переменной `SECRET_KEY`.

### Возможности администратора
- Редактирование текста и ссылок в герой-секции главной страницы.
- Управление списком услуг (категории «Интернет» и «Видеонаблюдение»).
- Создание и правка тарифов интернета.
- Управление комплектами видеонаблюдения.
- Добавление преимуществ для разных страниц сайта.
- Создание, изменение и удаление отзывов клиентов.

Все формы защищены CSRF-токенами, изменения сохраняются в базе данных.

## Публичные страницы
- **Главная** — краткое описание услуг, форма проверки адреса, отзывы.
- **Интернет** — тарифы, преимущества и CTA на заявку.
- **Видеонаблюдение** — комплекты, преимущества и форма консультации.
- **О компании** — миссия, преимущества, команда.
- **Контакты** — контактные данные, карта, форма обратной связи.

## Формы и заявки
Отправленные формы сохраняются в базе для последующей обработки:
- Проверка доступности (`AvailabilityRequest`).
- Запрос консультации по видеонаблюдению (`ConsultationRequest`).
- Обратная связь (`ContactSubmission`).

## Миграции
Миграции созданы с помощью `Flask-Migrate`. При изменении моделей выполните:
```bash
flask --app app:create_app db migrate -m "Описание изменений"
flask --app app:create_app db upgrade
```

## Переменные окружения
| Переменная | Назначение | Значение по умолчанию |
|------------|------------|------------------------|
| `DATABASE_URL` | строка подключения к БД | `sqlite:///instance/weter.db` |
| `SECRET_KEY` | секретный ключ Flask | `dev-secret-key` |
| `ADMIN_USERNAME` | логин администратора | `admin` |
| `ADMIN_PASSWORD` | пароль администратора | `change-me` |

## Лицензия
Проект предоставляется «как есть». Используйте и модифицируйте под свои задачи.
